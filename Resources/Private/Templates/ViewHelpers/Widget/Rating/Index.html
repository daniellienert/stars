
<!-- include CSS & JS files -->
<!-- CSS file -->
<link rel="stylesheet" type="text/css" href="typo3conf/ext/stars/Resources/Public/Javascript/JRating/jquery/jRating.jquery.css" media="screen" />
<!-- jQuery files -->
<script type="text/javascript" src="typo3conf/ext/stars/Resources/Public/Javascript/JRating/jquery/jquery.js"></script>
<script type="text/javascript" src="typo3conf/ext/stars/Resources/Public/Javascript/JRating/jquery/jRating.jquery.js"></script>


<div class="exemple">

    <div id="rating-widgetId" class="jRating" data-average="{averageVote}" data-id="1"></div>

    <script type="text/javascript">

        $(document).ready(function(){
            $.get("{f:widget.uri(action:'getRatingInfo', ajax: 1)}", function(data) {
                $("#rating-widgetId").attr('data-average',data.averageRating);

                $(".jRating").jRating(<![CDATA[{]]>
                    bigStarsPath: 'typo3conf/ext/stars/Resources/Public/Javascript/JRating/jquery/icons/stars.png',
                    smallStarsPath: 'typo3conf/ext/stars/Resources/Public/Javascript/JRating/jquery/icons/small.png',
                    type:'big',
                    showRateInfo: false,
                    isDisabled: data.alreadyVoted,
                    phpPath: "{f:widget.uri(action:'vote', ajax: 1)}"
                });

            });
        });

    </script>
</div>